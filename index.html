<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Notenrechner</title>
<style>
    body {
        background-color: #1f1f1f; /* dunkler Hintergrund */
        color: #ffffff; /* helle Schriftfarbe */
        font-family: Arial, sans-serif;
        padding: 20px;
    }
    .container {
        max-width: 600px;
        margin: 0 auto;
        background-color: #333333; /* dunkles Container-Hintergrund */
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }
    h1 {
        text-align: center;
    }
    table {
        width: 100%;
        margin-bottom: 20px;
        border-collapse: collapse;
    }
    table, th, td {
        border: 1px solid #555555; /* dunkle Tabellenumrandung */
    }
    th, td {
        padding: 10px;
        text-align: center;
    }
    input[type="number"] {
        width: 60px;
        text-align: center;
    }
    .add-button, .remove-button {
        cursor: pointer;
        padding: 5px 10px;
        background-color: #444444;
        color: #ffffff;
        border: none;
        border-radius: 3px;
        margin-left: 5px;
    }
    .add-button:hover, .remove-button:hover {
        background-color: #666666;
    }
</style>
</head>
<body>
    <div class="container">
        <h1>Notenrechner</h1>
        
        <table id="grade-table">
            <thead>
                <tr>
                    <th>Note</th>
                    <th>Gewichtung (%)</th>
                    <th><button class="add-button" onclick="addRow()">+</button></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="number" min="1" max="6" step="0.1" required></td>
                    <td><input type="number" min="1" max="100" required></td>
                    <td><button class="remove-button" onclick="removeRow(this)">-</button></td>
                </tr>
            </tbody>
        </table>
        
        <div id="average-output">
            <p>Durchschnitt: <span id="average">-</span></p>
        </div>
    </div>

    <script>
        function addRow() {
            var table = document.getElementById("grade-table").getElementsByTagName('tbody')[0];
            var newRow = table.insertRow();
            var cells = newRow.insertCell();
            cells.innerHTML = '<td><input type="number" min="1" max="6" step="0.1" required></td>';
            cells = newRow.insertCell();
            cells.innerHTML = '<td><input type="number" min="1" max="100" required></td>';
            cells = newRow.insertCell();
            cells.innerHTML = '<td><button class="remove-button" onclick="removeRow(this)">-</button></td>';
        }

        function removeRow(button) {
            var row = button.parentNode.parentNode;
            row.parentNode.removeChild(row);
        }

        function calculateAverage() {
            var table = document.getElementById("grade-table").getElementsByTagName('tbody')[0];
            var rows = table.rows;
            var totalWeight = 0;
            var weightedSum = 0;

            for (var i = 0; i < rows.length; i++) {
                var cells = rows[i].cells;
                var grade = parseFloat(cells[0].querySelector('input').value);
                var weight = parseInt(cells[1].querySelector('input').value);

                if (!isNaN(grade) && !isNaN(weight)) {
                    weightedSum += grade * weight;
                    totalWeight += weight;
                }
            }

            var average = (weightedSum / totalWeight).toFixed(2);
            document.getElementById("average").textContent = average;
        }

        // Optional: Calculate average automatically when inputs change
        var inputs = document.querySelectorAll('#grade-table input');
        inputs.forEach(input => {
            input.addEventListener('input', calculateAverage);
        });
    </script>
</body>
</html>
