<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notenrechner</title>
    <style>
        body {
            background-color: #1f1f23; /* Dunkler Hintergrund */
            color: #ffffff; /* Weiße Schriftfarbe */
            font-family: Monaco, monospace; /* Schriftart */
            text-align: center;
            margin: 0;
            padding: 0;
        }
        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .calculator {
            background-color: #2d2d33; /* Dunkle Box */
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            width: 80%;
            max-width: 600px;
        }
        table {
            width: 100%;
            margin-bottom: 10px;
            color: #ffffff;
        }
        table th, table td {
            padding: 10px;
            border-bottom: 1px solid #44444c;
        }
        table th {
            background-color: #333339;
        }
        input[type="text"] {
            background-color: #2d2d33; /* Dunkle Textfelder */
            color: #ffffff;
            border: none;
            padding: 8px;
            width: 70%;
        }
        input[type="button"] {
            background-color: #007bff; /* Blauer Knopf */
            color: #ffffff;
            border: none;
            padding: 10px 20px;
            margin-top: 10px;
            border-radius: 5px;
            cursor: pointer;
        }
        input[type="button"]:hover {
            background-color: #0056b3; /* Dunklerer Blauton */
        }
        .average {
            font-size: 1.5em;
            margin-top: 20px;
        }
        .btn-add, .btn-remove {
            cursor: pointer;
            color: #007bff; /* Blaue Farbe für Symbole */
        }
        .btn-remove {
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="calculator">
            <h1>Notenrechner</h1>
            <table id="gradesTable">
                <thead>
                    <tr>
                        <th>Note</th>
                        <th>Gewichtung (%)</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="text" class="gradeInput" style="background-color: #2d2d33;"></td>
                        <td><input type="text" class="weightInput" style="background-color: #2d2d33;"></td>
                        <td><span class="btn-add" onclick="addRow()">+</span></td>
                    </tr>
                </tbody>
            </table>
            <input type="button" value="Durchschnitt berechnen" onclick="calculateAverage()">
            <p class="average">Durchschnitt: <span id="averageValue">-</span></p>
        </div>
    </div>

    <script>
        function addRow() {
            var table = document.getElementById("gradesTable").getElementsByTagName('tbody')[0];
            var newRow = table.insertRow();
            var cell1 = newRow.insertCell(0);
            var cell2 = newRow.insertCell(1);
            var cell3 = newRow.insertCell(2);
            cell1.innerHTML = '<input type="text" class="gradeInput" style="background-color: #2d2d33;">';
            cell2.innerHTML = '<input type="text" class="weightInput" style="background-color: #2d2d33;">';
            cell3.innerHTML = '<span class="btn-remove" onclick="removeRow(this)">-</span>';
        }

        function removeRow(button) {
            var row = button.parentNode.parentNode;
            row.parentNode.removeChild(row);
        }

        function calculateAverage() {
            var table = document.getElementById("gradesTable");
            var rows = table.rows;
            var sum = 0;
            var totalWeight = 0;

            for (var i = 1; i < rows.length; i++) {
                var grade = parseFloat(rows[i].cells[0].getElementsByTagName('input')[0].value);
                var weight = parseFloat(rows[i].cells[1].getElementsByTagName('input')[0].value);

                if (!isNaN(grade) && !isNaN(weight)) {
                    sum += grade * (weight / 100);
                    totalWeight += weight;
                }
            }

            if (totalWeight > 0) {
                var average = sum / (totalWeight / 100);
                document.getElementById("averageValue").textContent = average.toFixed(2);
            } else {
                document.getElementById("averageValue").textContent = "-";
            }
        }
    </script>
</body>
</html>
