<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notenrechner</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .note-container {
            margin-bottom: 10px;
        }
        .note-container input {
            margin-right: 10px;
        }
        #ergebnis {
            font-weight: bold;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Notenrechner</h1>
    <div id="notenfeld">
        <div class="note-container">
            <input type="number" placeholder="Note" class="note">
            <input type="number" placeholder="Gewichtung" class="gewichtung">
        </div>
    </div>
    <button onclick="neueNoteHinzufuegen()">Weitere Note hinzufügen</button>
    <button onclick="durchschnittBerechnen()">Durchschnitt berechnen</button>
    <div id="ergebnis"></div>

    <script>
        function neueNoteHinzufuegen() {
            const notenfeld = document.getElementById('notenfeld');
            const div = document.createElement('div');
            div.className = 'note-container';
            div.innerHTML = `
                <input type="number" placeholder="Note" class="note">
                <input type="number" placeholder="Gewichtung" class="gewichtung">
            `;
            notenfeld.appendChild(div);
        }

        function durchschnittBerechnen() {
            const noten = document.getElementsByClassName('note');
            const gewichtungen = document.getElementsByClassName('gewichtung');
            let summeGewichtungen = 0;
            let gewichteteSumme = 0;

            for (let i = 0; i < noten.length; i++) {
                const note = parseFloat(noten[i].value);
                const gewichtung = parseFloat(gewichtungen[i].value);
                if (!isNaN(note) && !isNaN(gewichtung)) {
                    gewichteteSumme += note * gewichtung;
                    summeGewichtungen += gewichtung;
                }
            }

            const durchschnitt = gewichteteSumme / summeGewichtungen;
            const ergebnisDiv = document.getElementById('ergebnis');
            if (!isNaN(durchschnitt)) {
                ergebnisDiv.textContent = `Der gewichtete Durchschnitt ist: ${durchschnitt.toFixed(2)}`;
            } else {
                ergebnisDiv.textContent = 'Bitte geben Sie gültige Noten und Gewichtungen ein.';
            }
        }
    </script>
</body>
</html>
